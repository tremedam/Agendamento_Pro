<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1200, initial-scale=1.0" />
  <title>Login - Agenda de Recebimentos</title>
  <link rel="stylesheet" href="../shared/styles-common.css" />
  <link rel="stylesheet" href="styles-login-simples.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
</head>

<body class="login-page">
  <main class="login-container">
    <!-- Lado Esquerdo: Logo e Seleção -->
    <section class="login-left-side">
      <div class="login-header">
        <div class="logo">
          <img src="../assets/Logo.png" alt="Logo" />
        </div>

        <div class="welcome-text">
          <h1 class="system-title">
            <i class="fas fa-clipboard-list"></i>
            Bem-vindo ao Sistema
          </h1>

          <p class="system-subtitle">
            <i class="fas fa-heart"></i>
            Agenda de Recebimentos
          </p>

          <div class="subtitle-description">Gerencie seus agendamentos de forma simples e eficiente</div>
        </div>
      </div>

      <!-- Seletor de Tipo de Acesso com Cards -->
      <div class="access-selector-modern">
        <h3 class="selector-title">
          <i class="fas fa-hand-point-right"></i>
          Como você deseja acessar?
        </h3>

        <div class="access-cards">
          <div class="access-card active" data-type="usuario">
            <div class="card-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="card-content">
              <h4>Acesso Geral</h4>
              <p>Entre com sua conta Microsoft corporativa</p>
              <div class="card-features">
                <span><i class="fas fa-check"></i> Acesso rápido</span>
                <span><i class="fas fa-check"></i> Login único</span>
              </div>
            </div>
          </div>

          <div class="access-card" data-type="admin">
            <div class="card-icon">
              <i class="fas fa-user-shield"></i>
            </div>
            <div class="card-content">
              <h4>Painel Administrativo</h4>
              <p>Acesso completo para administradores</p>
              <div class="card-features">
                <span><i class="fas fa-check"></i> Controle total</span>
                <span><i class="fas fa-check"></i> Relatórios</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Lado Direito: Formulários de Login -->
    <section class="login-right-side">
      <!-- Mensagens com melhor design -->
      <div class="messages-container">
        <div id="error-message" class="message-box error-message">
          <i class="fas fa-exclamation-triangle"></i>
          <span class="message-text"></span>
        </div>
        <div id="success-message" class="message-box success-message">
          <i class="fas fa-check-circle"></i>
          <span class="message-text"></span>
        </div>
      </div>

      <!-- Formulário de Login Manual (Admin) -->
      <section id="manual-login" class="login-section" style="display: none">
        <div class="section-header">
          <i class="fas fa-key"></i>
          <h4>Credenciais Administrativas</h4>
          <p>Insira suas credenciais para acessar o painel administrativo</p>
        </div>

        <form class="login-form">
          <div class="form-group">
            <label for="re">
              <i class="fas fa-id-badge"></i>
              RE (Registro de Empregado)
            </label>
            <div class="input-wrapper">
              <input type="text" id="re" name="re" class="form-control" placeholder="Ex: 12345" autocomplete="username"
                required />
              <div class="input-focus-effect"></div>
            </div>
            <small class="input-help">
              <i class="fas fa-info-circle"></i>
              Digite seu número de registro de empregado
            </small>
          </div>

          <div class="form-group">
            <label for="senha">
              <i class="fas fa-lock"></i>
              Senha de Acesso
            </label>
            <div class="input-wrapper password-wrapper">
              <input type="password" id="senha" name="senha" class="form-control" placeholder="Digite sua senha"
                autocomplete="current-password" required />
              <button type="button" class="password-toggle" onclick="togglePasswordVisibility()">
                <i class="fas fa-eye"></i>
              </button>
              <div class="input-focus-effect"></div>
            </div>
            <small class="input-help">
              <i class="fas fa-shield-alt"></i>
              Sua senha está protegida e criptografada
            </small>
          </div>

          <button type="submit" id="login-btn" class="login-btn modern-btn">
            <span class="btn-content">
              <i class="fas fa-sign-in-alt"></i>
              <span class="btn-text">Entrar no Sistema</span>
            </span>
            <div class="btn-loading">
              <div class="loading-spinner"></div>
              <span>Verificando credenciais...</span>
            </div>
            <div class="btn-ripple"></div>
          </button>
        </form>

        <div class="login-footer">
          <div class="security-info">
            <i class="fas fa-shield-alt"></i>
            <span>Conexão segura e criptografada</span>
          </div>
        </div>
      </section>

      <!-- Seção de Login Microsoft (Loja) -->
      <section id="microsoft-login" class="login-section microsoft-section">
        <div class="section-header">
          <i class="fab fa-microsoft"></i>
          <h4>Acesso Corporativo Microsoft</h4>
          <p>Use sua conta corporativa para entrar na loja</p>
        </div>

        <div class="microsoft-info-card">
          <div class="info-icon">
            <i class="fas fa-cloud"></i>
          </div>
          <div class="info-content">
            <h5>Login Único (SSO)</h5>
            <p>Entre automaticamente com suas credenciais da rede corporativa</p>
            <ul class="benefits-list">
              <li><i class="fas fa-check"></i> Acesso rápido e seguro</li>
              <li><i class="fas fa-check"></i> Sem necessidade de nova senha</li>
              <li><i class="fas fa-check"></i> Sincronização automática</li>
            </ul>
          </div>
        </div>

        <button type="button" id="microsoft-btn" class="microsoft-btn modern-btn" onclick="handleMicrosoftLogin()">
          <span class="btn-content">
            <i class="fab fa-microsoft"></i>
            <span class="btn-text">Continuar com Microsoft</span>
          </span>
          <div class="btn-loading">
            <div class="loading-spinner"></div>
            <span>Conectando com Microsoft...</span>
          </div>
          <div class="btn-ripple"></div>
        </button>

        <div class="microsoft-footer">
          <div class="powered-by">
            <i class="fab fa-microsoft"></i>
            <span>Powered by Microsoft Azure AD</span>
          </div>
        </div>
      </section>
    </section>

    <!-- Lado Direito: Informações do Sistema -->
    <section class="login-info-side">
      <!-- Informações do Sistema -->
      <aside class="system-info-modern">
        <div class="info-header">
          <i class="fas fa-info-circle"></i>
          <span>Informações do Sistema</span>
        </div>
        <div class="info-grid">
          <div class="info-item">
            <i class="fas fa-code-branch"></i>
            <div class="info-details">
              <span class="info-label">Versão</span>
              <span class="info-value">1.0.0</span>
            </div>
          </div>
          <div class="info-item">
            <i class="fas fa-building"></i>
            <div class="info-details">
              <span class="info-label">Empresa</span>
              <span class="info-value"></span>
            </div>
          </div>
          <div class="info-item">
            <i class="fas fa-shield-alt"></i>
            <div class="info-details">
              <span class="info-label">Segurança</span>
              <span class="info-value">SSL/TLS</span>
            </div>
          </div>
          <div class="info-item">
            <i class="fas fa-clock"></i>
            <div class="info-details">
              <span class="info-label">Disponível</span>
              <span class="info-value">24/7</span>
            </div>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <script src="../shared/config.js"></script>
  <script src="../shared/auth.js"></script>
  <script src="script-login.js"></script>
</body>

</html>